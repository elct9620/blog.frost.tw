<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>利用 Ruby 的 Lambda 做條件判斷 | 弦而時習之</title>
  <meta name="theme-color" content="#EFEFEF">

  <meta name="author" content="蒼時弦也">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">

  <meta name="description" content="週末在思考一些 Ruby 特性可以應用的小技巧時，想到龍哥大概跟我講了三次以上的一個特性。 12345fn = -&amp;gt;(other) &amp;#123; other == 1 &amp;#125;fn == 1# =&amp;gt; falsefn === 1# =&amp;gt; true 剛好最近工作的專案上有個問題，似乎挺適合用這個技巧。">
<meta name="keywords" content="心得,Ruby,Lambda">
<meta property="og:type" content="article">
<meta property="og:title" content="利用 Ruby 的 Lambda 做條件判斷">
<meta property="og:url" content="https://blog.frost.tw/posts/2019/05/20/Use-Ruby-s-Lambda-as-case-when-condition/">
<meta property="og:site_name" content="弦而時習之">
<meta property="og:description" content="週末在思考一些 Ruby 特性可以應用的小技巧時，想到龍哥大概跟我講了三次以上的一個特性。 12345fn = -&amp;gt;(other) &amp;#123; other == 1 &amp;#125;fn == 1# =&amp;gt; falsefn === 1# =&amp;gt; true 剛好最近工作的專案上有個問題，似乎挺適合用這個技巧。">
<meta property="og:locale" content="zh-TW">
<meta property="og:image" content="https://blog.frost.tw/images/2019-05-20-use-ruby-s-lambda-as-case-when-condition/thumbnail.png">
<meta property="og:updated_time" content="2019-05-20T14:10:45.009Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="利用 Ruby 的 Lambda 做條件判斷">
<meta name="twitter:description" content="週末在思考一些 Ruby 特性可以應用的小技巧時，想到龍哥大概跟我講了三次以上的一個特性。 12345fn = -&amp;gt;(other) &amp;#123; other == 1 &amp;#125;fn == 1# =&amp;gt; falsefn === 1# =&amp;gt; true 剛好最近工作的專案上有個問題，似乎挺適合用這個技巧。">
<meta name="twitter:image" content="https://blog.frost.tw/images/2019-05-20-use-ruby-s-lambda-as-case-when-condition/thumbnail.png">
<link rel="publisher" href="https://plus.google.com/117236344655673213049">
<meta property="fb:app_id" content="178355449110">

  <meta property="fb:pages" content="180666522388">
  <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Blog",
    "name": "弦而時習之",
    "url": "https://blog.frost.tw",
    "image": "http://blog.frost.tw/icon-512.png",
    "description": "蒼時弦也的個人網誌，專注在前端、後端以及遊戲開發，大多使用 Ruby 和 Ruby on Rails 以及 Golang、JS 和 C 語言。",
    "sameAs": [
      "https://www.facebook.com/frost.tw/"
    ]
}
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "name": "蒼時弦也",
    "url": "https://blog.frost.tw",
    "sameAs": [
      "https://www.facebook.com/elct9620",
      "https://www.instagram.com/elct9620/",
      "https://twitter.com/elct9620",
      "https://plus.google.com/+%E8%92%BC%E6%99%82%E5%BC%A6%E4%B9%9F-plus",
      "https://www.linkedin.com/in/elct9620"
    ]
}
</script>


<script type="application/ld+json">
{
  "@context":"http://schema.org",
  "@type":"Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.frost.tw/posts/2019/05/20/Use-Ruby-s-Lambda-as-case-when-condition/"
  },
  "headline":"利用 Ruby 的 Lambda 做條件判斷",
  "image": [
    
    "https://blog.frost.tw/images/2019-05-20-use-ruby-s-lambda-as-case-when-condition/thumbnail.png",
    
    "http://blog.frost.tw/icon-512.png"
  ],
  "datePublished": "2019-05-20T13:59:53.000Z",
  "dateModified": "2019-05-20T14:10:45.009Z",
  "description":"週末在思考一些 Ruby 特性可以應用的小技巧時，想到龍哥大概跟我講了三次以上的一個特性。12345fn = -&gt;(other) &#123; other == 1 &#125;fn == 1# =&gt; falsefn === 1# =&gt; true剛好最近工作的專案上有個問題，似乎挺適合用這個技巧。",
  "author": {
    "@type": "Person",
    "name": "蒼時弦也"
  },
  "publisher": {
    "@type": "Organization",
    "name": "蒼時弦也",
    "logo": {
      "@type": "ImageObject",
      "url": "http://blog.forst.tw/logo-wide.png"
    }
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
    "@type": "ListItem",
    "position": 1,
    "item": {
      "@id": "https://blog.frost.tw",
      "name": "弦而時習之 ",
      "image": "http://blog.frost.tw/icon-512.png"
    }
  },{
    "@type": "ListItem",
    "position": 2,
    "item": {
      "@id": "https://blog.frost.tw/posts/2019/05/20/Use-Ruby-s-Lambda-as-case-when-condition/",
      "name": "利用 Ruby 的 Lambda 做條件判斷",
      "image": "https://blog.frost.tw/images/2019-05-20-use-ruby-s-lambda-as-case-when-condition/thumbnail.png"
    }
  }]
}
</script>




  
  <link rel="canonical" href="https://blog.frost.tw/posts/2019/05/20/Use-Ruby-s-Lambda-as-case-when-condition/">
  
  <link href="/icon-512.png" rel="icon">
  <link rel="alternate" href="/feed.xml" title="弦而時習之" type="application/rss+xml">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <script async src="/js/turbolinks.js"></script>
</head>

  <body>
    <div id="fb-root" data-turbolinks-permanent></div>
    <header id="header">
      
<h1 id="sitename">
  <a href="/" class="hide-text logo--icon align-center">
  弦而時習之
  </a>
</h1>

<aside id="slogan" class="slogan align-center text-center">
  <h2 class="slogan__title">Aotokitsuruya</h2>
  <p class="slogan__description">The Web is attracting  me, so I start learning PHP, HTML, CSS and JavaScript. When I know about Ruby, I fall in love with it. Now, I working with my friend to design games using C++ and still learning web about Golang, Ruby and JavaScript. In the other side, I also be a designer, the reason why the web is attracted me.</p>
</aside>

    </header>
    <div id="wrapper">
      
<article class="post article">
  <header class="article__header">
    <time datetime="2019-05-20T13:59:53.000Z" class="article__time--header">
      May.20
    </time>
    
  
    <h1 class="article__title">利用 Ruby 的 Lambda 做條件判斷</h1>
  


  </header>
  <div class="article__entry">
    
    <p>週末在思考一些 Ruby 特性可以應用的小技巧時，想到龍哥大概跟我講了三次以上的一個特性。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fn = -&gt;(other) &#123; other == <span class="number">1</span> &#125;</span><br><span class="line">fn == <span class="number">1</span></span><br><span class="line"><span class="comment"># =&gt; false</span></span><br><span class="line">fn === <span class="number">1</span></span><br><span class="line"><span class="comment"># =&gt; true</span></span><br></pre></td></tr></table></figure>
<p>剛好最近工作的專案上有個問題，似乎挺適合用這個技巧。</p>
<a id="more"></a>
<h2 id="Proc-物件的-方法"><a href="#Proc-物件的-方法" class="headerlink" title="Proc 物件的 === 方法"></a>Proc 物件的 === 方法</h2><p>我們在 Proc 的原始碼可以看到，<code>Proc</code> 類別被特別定義了 <code>#===</code> 方法，但不包括了 <code>#==</code> 方法，而這個 <code>#===</code> 方法又剛好指定成呼叫方法。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rb_add_method(rb_cProc, rb_intern(<span class="string">"==="</span>), VM_METHOD_TYPE_OPTIMIZED,</span><br><span class="line">truetrue  (<span class="keyword">void</span> *)OPTIMIZED_METHOD_TYPE_CALL, METHOD_VISI_PUBLIC);</span><br></pre></td></tr></table></figure>
<p>同樣還有像是 <code>#[]</code> 也有類似的性質，簡單說就是 <code>#call</code> 方法的別名。這個使用方式也可以在 <a href="https://ruby-doc.org/core-2.6.2/Proc.html#method-i-3D-3D-3D" target="_blank" rel="noopener">Ruby Doc</a> 上找到。<br>因為這樣的特性，剛好有些情境就是不錯的應用情況。</p>
<h2 id="Excel-的產生難題"><a href="#Excel-的產生難題" class="headerlink" title="Excel 的產生難題"></a>Excel 的產生難題</h2><p>最近花了不少時間在幫客戶處理 Excel 報表的生成功能，中間就發現了一個問題，因為客戶的報表有很多種（十幾種）而且需要的欄位又不太一樣，每種都寫一次程式的話其實是很沒有效率的（而且未來還希望能自訂報表的呈現）所以用設定檔方式設計是最適合的，不過產生的 Excel 檔案卻無法指定格式（Ex. 文字、日期）尤其是「日期」客戶每張報表的要求又不太一樣，這讓生成就變成一個難題。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">- name:</span> <span class="string">KPI</span> <span class="string">Report</span></span><br><span class="line"><span class="attr">  columns:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">user_id</span></span><br><span class="line"><span class="attr">      display:</span> <span class="string">User</span> <span class="string">ID</span></span><br><span class="line"><span class="attr">      format:</span> <span class="string">:integer</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">signup_at</span></span><br><span class="line"><span class="attr">      display:</span> <span class="string">Signup</span> <span class="string">At</span></span><br><span class="line"><span class="attr">      format:</span> <span class="string">:datetime</span></span><br><span class="line"><span class="attr">      datetime:</span> <span class="string">:customize</span></span><br><span class="line"><span class="attr">      excel_format:</span> <span class="string">'[$-409]yyyy-MM-dd;@'</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">last_active_at</span></span><br><span class="line"><span class="attr">      display:</span> <span class="string">Last</span> <span class="string">Active</span> <span class="string">At</span></span><br><span class="line"><span class="attr">      format:</span> <span class="string">:datetime</span></span><br><span class="line"><span class="attr">      datetime:</span> <span class="string">:split</span></span><br></pre></td></tr></table></figure>
<p>以上面這個 YAML 設定檔為例子，客戶可能會希望顯示 <code>yyyy-MM-dd</code> 或者 <code>yyyy-MM-dd</code> + <code>HH:mm</code> 之類的格式，所以在判斷 Excel 要提供怎樣的欄位的時候，就變得相對的複雜。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">formats</span></span></span><br><span class="line">  @columns.map <span class="keyword">do</span> <span class="params">|column|</span></span><br><span class="line">    <span class="keyword">next</span> <span class="keyword">unless</span> column[<span class="symbol">:format</span>] == <span class="symbol">:datetime</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">case</span> column[<span class="symbol">:datetime</span>]</span><br><span class="line">    <span class="keyword">when</span> <span class="symbol">:split</span> <span class="keyword">then</span> [@date_format, @time_format]</span><br><span class="line">    <span class="keyword">when</span> <span class="symbol">:customize</span> <span class="keyword">then</span> format(column[<span class="symbol">:excel_format</span>])</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      @date_format</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span>.flatten</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>雖然上面的情況看起來還算單純，不過最後再加入其他不同類型的欄位判斷後，可能就會越來越複雜跟難以辨識。</p>
<p>在這個狀況下，利用 <code>Proc</code> 的 <code>#===</code> 特性就可能會是一個不錯的作法。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">is_datetime = -&gt;(c) &#123; c[<span class="symbol">:format</span>] == <span class="symbol">:datetime</span> &#125;</span><br><span class="line">is_split_datetime = -&gt;(c) &#123; c[<span class="symbol">:format</span>] == <span class="symbol">:datetime</span> &amp;&amp; c[<span class="symbol">:datetime</span>] == <span class="symbol">:split</span> &#125;</span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> column</span><br><span class="line"><span class="keyword">when</span> is_split_datetime <span class="keyword">then</span> [@date_format, @time_format]</span><br><span class="line"><span class="keyword">when</span> is_datetime <span class="keyword">then</span> @date_format</span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>不過這實際上並無法解決有很多複雜情況的時候，不過既然我們已經知道了 <code>#===</code> 在 <code>case ... when</code> 上可以發揮作用，那麼是否可以進一步封裝呢？</p>
<h2 id="自訂物件"><a href="#自訂物件" class="headerlink" title="自訂物件"></a>自訂物件</h2><p>假設我們有個可以把設定檔轉成 <code>ExcelColumn</code> 物件的設計，也許可以像這樣實作。</p>
<p>先定義 <code>ExcelColumn</code> 物件，而且可以被做 <code>Pattern Matching</code>（簡易版）然後在提供回傳對應的格式跟數值的機制。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExcelColumn</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(format = <span class="literal">nil</span>, **pattern, &amp;block)</span></span></span><br><span class="line">    @name = name</span><br><span class="line">    @format = format</span><br><span class="line">    @pattern = pattern</span><br><span class="line">    @value_of = block</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">===</span><span class="params">(other)</span></span></span><br><span class="line">    @pattern.reduce(<span class="literal">true</span>) <span class="keyword">do</span> <span class="params">|prev, (key, value)|</span></span><br><span class="line">      prev &amp; (other[key] == value)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">format</span></span></span><br><span class="line">    <span class="keyword">return</span> @format <span class="keyword">if</span> @format.<span class="literal">nil</span>? <span class="params">||</span> @format.is_a?(Symbol)</span><br><span class="line">    </span><br><span class="line">    format(@format) <span class="comment"># Customize Format</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">value</span><span class="params">(name, row)</span></span></span><br><span class="line">    <span class="keyword">return</span> row.send(name) <span class="keyword">if</span> @value_of.<span class="literal">nil</span>?</span><br><span class="line">    </span><br><span class="line">    @value_of.call(name, row)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>然後再設計 DSL 讓我們可以定義需要的格式。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExcelGenerator</span></span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> &lt;&lt; self</span></span><br><span class="line">    <span class="keyword">attr_reader</span> <span class="symbol">:patterns</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pattern</span><span class="params">(format, **pattern, &amp;block)</span></span></span><br><span class="line">      @patterns <span class="params">||</span>= []</span><br><span class="line">      @patterns &lt;&lt; ExcelColumn.new(name, format, pattern, &amp;block)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">columns</span></span></span><br><span class="line">    @columns <span class="params">||</span>=</span><br><span class="line">      @config.columns.map <span class="keyword">do</span> <span class="params">|column|</span></span><br><span class="line">        [</span><br><span class="line">         column,</span><br><span class="line">         <span class="keyword">self</span>.patterns.find &#123; <span class="params">|pattern|</span> pattern === column &#125; <span class="params">||</span> ExcelColumn.new</span><br><span class="line">        ]</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>接下來就可以在實際使用時，像這樣去拓展 Excel 產生器，然後定義我們所需要的報表格式生成。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExcelReportGnerator</span> &lt; ExcelGenerator</span></span><br><span class="line">  pattern format(<span class="symbol">:date</span>), <span class="symbol">datetime:</span> <span class="symbol">:date</span> <span class="keyword">do</span> <span class="params">|name, row|</span></span><br><span class="line">    row.send(name)&amp;.to_datetime</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># ...</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>如此一來就能夠利用 DSL 跟 <code>#===</code> 的特性，針對我們需要有特殊格式的欄位挑選出來，然後給予特定的規則來產生對應的 Excel Cell 設定。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">insert_header(headers)</span><br><span class="line"></span><br><span class="line">formats = columns.map(&amp;<span class="symbol">:last</span>).map(&amp;<span class="symbol">:format</span>)</span><br><span class="line">rows.each <span class="keyword">do</span> <span class="params">|row|</span></span><br><span class="line">  items = columns.map &#123; <span class="params">|column, pattern|</span> pattern.value_of(column[<span class="symbol">:name</span>], row) &#125;</span><br><span class="line">  insert_row(items, <span class="symbol">formats:</span> formats)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>最後實作的版本其實還是一個構想，畢竟這樣的情境是不常使用到的，不過在某些時候似乎又是個非常有用的小技巧。而這樣的構想是否適合這樣使用，以及能不能有更好的改進（例如一開始就直接定義好對應的欄位類型物件，而不要像這樣動態的定義）都還要再討論。</p>
<p>不過在 Ruby 中確實有不少有趣的應用技巧，多多挖掘的話其實能在不少不同的應用情況下用足夠簡單的方式實現，而不是繞一大圈去做。</p>
<p>更重要的是，這些技巧往往會是在時間緊迫下的輔助，有些功能透過這些技巧就可以很快地實現，而將時間投資在其他地方，而不是只能用一些折衷的方案暫時做好，之後再回來慢慢修改。</p>
<blockquote>
<p>這是最近做專案的心得，因為客戶是新成立的部門很需要有一個實績，所以開發上難免偏向以開發進度為主。很多其實花時間思考後能做更好的部分，就這樣變成技術債了⋯⋯</p>
</blockquote>

    
    <footer class="article__footer">
      
        <div class="text-center">
          <div class="fb-share-button" data-href="https://blog.frost.tw/posts/2019/05/20/Use-Ruby-s-Lambda-as-case-when-condition/" data-layout="button_count">
          </div>
        </div>
        <p align="center">
          <a href="https://ko-fi.com/J3J78093" target="_blank">
            <img height="36" style="border:0px;height:36px;" src="https://az743702.vo.msecnd.net/cdn/kofi5.png?v=0" border="0" alt="Buy Me a Coffee at ko-fi.com">
          </a>
        </p>
        <iframe scrolling="no" frameborder="0" style="display: block; margin: 0 auto; height: 212px;" src="https://button.like.co/in/embed/elct9620/button?referrer=https://blog.frost.tw/posts/2019/05/20/Use-Ruby-s-Lambda-as-case-when-condition/"></iframe>
        
          <ul class="article__tag-list"><li class="article__tag-list-item"><a class="article__tag-list-link" href="/tags/Lambda/">Lambda</a></li><li class="article__tag-list-item"><a class="article__tag-list-link" href="/tags/Ruby/">Ruby</a></li><li class="article__tag-list-item"><a class="article__tag-list-link" href="/tags/心得/">心得</a></li></ul>
        
      
    </footer>
  </div>
</article>


  
    <div class="adv">
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <!-- 網誌_文末廣告 (Hexo) -->
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2844969736316510" data-ad-slot="5530952976" data-ad-format="auto"></ins>
      <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
  

  
<section id="comment" class="comment-box">
  <h1 class="comment-box__title">留言</h1>

  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>






    </div>
    <footer id="footer">
      <div id="copyright">
  &copy;2013 <a href="https://plus.google.com/117236344655673213049?rel=author" target="_blank">蒼時弦也</a>. All right reversed.
</div>

    </footer>
    

  
  <script type="text/javascript">
  var disqus_shortname = 'revo-skill-frost';

  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
  </script>
  

  
  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5TQLRN" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5TQLRN');</script>
  <!-- End Google Tag Manager -->
  

  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '178355449110',
        xfbml      : true,
        version    : 'v2.12'
      });

      FB.AppEvents.logPageView();

    };

    (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "https://connect.facebook.net/zh_TW/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'));
  </script>

  <script src="/js/app.js"></script>


    <div class="loading"></div>
  </body>
</html>
